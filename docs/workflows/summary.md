# å·¥ä½œæµæ•´åˆæ€»ç»“

> ä¸º mcp-router-sse-parent é¡¹ç›®é€‰æ‹©å’Œå®æ–½æ ‡å‡†åŒ–å·¥ä½œæµ
> 
> å®Œæˆæ—¶é—´: 2026-01-28

---

## âœ… å·²å®Œæˆå·¥ä½œ

### 1. åˆ›å»ºçš„æ–‡æ¡£

| æ–‡æ¡£ | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| **å·¥ä½œæµå¯¹æ¯”åˆ†æ** | `docs/GITHUB_WORKFLOWS_COMPARISON.md` | GitHub æˆç†Ÿå·¥ä½œæµè¯¦ç»†å¯¹æ¯” |
| **æ·»åŠ  MCP Server å·¥ä½œæµ** | `.agent/workflows/add-mcp-server.md` | æ ‡å‡†åŒ–MCP Serverå¼€å‘æµç¨‹ |
| **æ·»åŠ  Agent å·¥ä½œæµ** | `.agent/workflows/add-agent-workflow.md` | æ ‡å‡†åŒ–AI Agentå¼€å‘æµç¨‹ |
| **ä»£ç å®¡æŸ¥å·¥ä½œæµ** | `.agent/workflows/review.md` | å·²æœ‰ï¼Œæ— éœ€ä¿®æ”¹ |

###2. å¯¹æ¯”çš„å·¥ä½œæµç±»å‹

#### åˆ†æ”¯ç­–ç•¥
- âœ… Git Flow
- âœ… GitHub Flow â­â­â­â­ æ¨è
- âœ… Trunk-Based Development â­â­â­â­â­ å¼ºçƒˆæ¨è
- âœ… GitLab Flow

#### CI/CD æ–¹æ¡ˆ
- âœ… åŸºç¡€ CI/CD
- âœ… å¤šæ¨¡å— CI/CD â­â­â­â­â­ æ¨èï¼ˆé€‚åˆæ‚¨çš„é¡¹ç›®ï¼‰
- âœ… ä¼ä¸šçº§ CI/CD

#### Agent å¼€å‘æ¨¡å¼
- âœ… ReactAgent
- âœ… StateGraph
- âœ… Supervisor Pattern
- âœ… LangGraph vs Spring AI Alibaba Graph

---

## ğŸ¯ æ ¸å¿ƒæ¨è

### é’ˆå¯¹æ‚¨çš„é¡¹ç›®ï¼ˆmcp-router-sse-parentï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         æ¨èçš„å·¥ä½œæµç»„åˆ                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åˆ†æ”¯ç­–ç•¥: GitHub Flow (ç°åœ¨)            â”‚
â”‚          â†’ Trunk-Based (æœªæ¥)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CI/CD:   å¤šæ¨¡å— CI/CD                   â”‚
â”‚          (å˜æ›´æ£€æµ‹ + å¹¶è¡Œæ„å»º)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Agent:   Spring AI Alibaba Graph       â”‚
â”‚          (ReactAgent + StateGraph)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å·¥ä½œæµ:  è‡ªå®šä¹‰ .agent/workflows/       â”‚
â”‚          (å·²åˆ›å»º3ä¸ªæ ‡å‡†å·¥ä½œæµ)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“š ä½¿ç”¨æŒ‡å—

### åœºæ™¯ 1: æ·»åŠ æ–°çš„ MCP Server

```bash
# 1. æŸ¥çœ‹å·¥ä½œæµæ–‡æ¡£
cat .agent/workflows/add-mcp-server.md

# 2. ä½¿ç”¨ Antigravity æˆ–å…¶ä»– LLM æ‰§è¡Œ
# "è¯·æŒ‰ç…§ add-mcp-server å·¥ä½œæµæ·»åŠ ä¸€ä¸ªå¤©æ°” MCP Server"

# 3. å·¥ä½œæµä¼šæŒ‡å¯¼æ‚¨å®Œæˆ:
#    - éœ€æ±‚åˆ†æ
#    - æ¶æ„è®¾è®¡
#    - ä»£ç å®ç°
#    - æµ‹è¯•
#    - æ–‡æ¡£
#    - ä»£ç å®¡æŸ¥
#    - é›†æˆ
```

### åœºæ™¯ 2: å¼€å‘æ–°çš„ AI Agent

```bash
# 1. æŸ¥çœ‹å·¥ä½œæµæ–‡æ¡£
cat .agent/workflows/add-agent-workflow.md

# 2. ä½¿ç”¨ LLM æ‰§è¡Œ
# "è¯·æŒ‰ç…§ add-agent-workflow åˆ›å»ºä¸€ä¸ªå¤©æ°”åˆ†æ Agent"

# 3. å·¥ä½œæµä¼šæŒ‡å¯¼æ‚¨:
#    - é€‰æ‹© Agent ç±»å‹ (ReactAgent/StateGraph/Supervisor)
#    - è®¾è®¡çŠ¶æ€å›¾
#    - å®ç°èŠ‚ç‚¹
#    - æµ‹è¯•
#    - å¯è§†åŒ–
```

### åœºæ™¯ 3: ä»£ç å®¡æŸ¥

```bash
# ä½¿ç”¨ç°æœ‰çš„ review å·¥ä½œæµ
/review path/to/your/file.java
```

---

## ğŸš€ ç«‹å³å¼€å§‹

### é€‰é¡¹ A: è®¾ç½® GitHub Flow + åŸºç¡€ CI/CDï¼ˆæ¨èç«‹å³æ‰§è¡Œï¼‰

**æ­¥éª¤ 1**: åˆ›å»º GitHub Actions å·¥ä½œæµ

åˆ›å»ºæ–‡ä»¶ `.github/workflows/maven.yml`:

```yaml
name: Maven Build

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v4
    
    - name: Set up JDK 17
      uses: actions/setup-java@v4
      with:
        java-version: '17'
        distribution: 'corretto'
        cache: maven
    
    - name: Build with Maven
      run: mvn -B clean install
    
    - name: Run Tests
      run: mvn test
```

**æ­¥éª¤ 2**: è®¾ç½®åˆ†æ”¯ä¿æŠ¤

åœ¨ GitHub ä»“åº“è®¾ç½®ä¸­ï¼š
- Settings â†’ Branches â†’ Add branch protection rule
- Branch name pattern: `main`
- âœ… Require a pull request before merging
- âœ… Require status checks to pass
- âœ… Require branches to be up to date

**æ­¥éª¤ 3**: æ–‡æ¡£åŒ–åˆ†æ”¯å‘½åè§„èŒƒ

åˆ›å»º `CONTRIBUTING.md`:
```markdown
## åˆ†æ”¯å‘½åè§„èŒƒ

- `feature/*` - æ–°åŠŸèƒ½
- `bugfix/*` - Bug ä¿®å¤
- `docs/*` - æ–‡æ¡£æ›´æ–°
- `refactor/*` - é‡æ„

ç¤ºä¾‹: `feature/add-gemini-integration`
```

---

### é€‰é¡¹ B: åº”ç”¨å¤šæ¨¡å— CI/CDï¼ˆè¿›é˜¶ï¼‰

å¤åˆ¶ `docs/GITHUB_WORKFLOWS_COMPARISON.md` ä¸­çš„"æ–¹æ¡ˆ B"é…ç½®å³å¯ã€‚

---

## ğŸ“– å…³é”®æ¦‚å¿µé€ŸæŸ¥

### 1. GitHub Flow æ ¸å¿ƒåŸåˆ™

```
1. main åˆ†æ”¯æ°¸è¿œå¯éƒ¨ç½²
2. ä» main åˆ›å»ºæè¿°æ€§åˆ†æ”¯
3. å®šæœŸæäº¤åˆ°åˆ†æ”¯
4. å¼€ Pull Request
5. è®¨è®ºå’Œå®¡æŸ¥
6. åˆå¹¶åç«‹å³éƒ¨ç½²
```

### 2. Trunk-Based Development æ ¸å¿ƒè¦ç‚¹

```
1. çŸ­ç”Ÿå‘½å‘¨æœŸåˆ†æ”¯ (< 1å¤©)
2. é¢‘ç¹é›†æˆåˆ° main
3. ä½¿ç”¨ Feature Flags
4. å¼ºå¤§çš„è‡ªåŠ¨åŒ–æµ‹è¯•
5. å¿«é€Ÿåé¦ˆå¾ªç¯
```

### 3. Spring AI Alibaba Agent æ¨¡å¼

```java
// ReactAgent - é€šç”¨ä»»åŠ¡
ReactAgent.builder()
    .chatClient(chatClient)
    .tools(tools)
    .build();

// StateGraph - å¤æ‚æµç¨‹
var graph = new StateGraph();
graph.addNode("step1", node1);
graph.addEdge(START, "step1");

// Supervisor - å¤šAgentåä½œ
SupervisorAgent.builder()
    .subAgents(List.of(agent1, agent2))
    .build();
```

---

## ğŸ“ å­¦ä¹ è·¯å¾„

### ç¬¬ 1 å‘¨: ç†Ÿæ‚‰åŸºç¡€
- [ ] é˜…è¯» `docs/GITHUB_WORKFLOWS_COMPARISON.md`
- [ ] ç†è§£ GitHub Flow
- [ ] è®¾ç½®åŸºç¡€ CI/CD
- [ ] å®è·µ: æ·»åŠ ä¸€ä¸ªç®€å•åŠŸèƒ½

### ç¬¬ 2-3 å‘¨: åº”ç”¨å·¥ä½œæµ
- [ ] ä½¿ç”¨ `add-mcp-server.md` æ·»åŠ  MCP Server
- [ ] ä½¿ç”¨ `add-agent-workflow.md` å¼€å‘ Agent
- [ ] ä½¿ç”¨ `review.md` è¿›è¡Œä»£ç å®¡æŸ¥
- [ ] å®è·µ: å®Œæˆä¸€ä¸ªå®Œæ•´çš„åŠŸèƒ½å¼€å‘å‘¨æœŸ

### ç¬¬ 4 å‘¨: ä¼˜åŒ–å‡çº§
- [ ] è¯„ä¼° CI/CD æ•ˆæœ
- [ ] è€ƒè™‘å‡çº§åˆ° Trunk-Based
- [ ] ä¼˜åŒ–è‡ªåŠ¨åŒ–æµç¨‹
- [ ] å›¢é˜Ÿåˆ†äº«æœ€ä½³å®è·µ

---

## ğŸ’¡ æœ€ä½³å®è·µæé†’

### DO âœ…

1. **å°æ­¥å¿«è·‘**: é¢‘ç¹æäº¤ï¼Œå¿«é€Ÿé›†æˆ
2. **è‡ªåŠ¨åŒ–ä¼˜å…ˆ**: èƒ½è‡ªåŠ¨åŒ–çš„éƒ½è‡ªåŠ¨åŒ–
3. **æ–‡æ¡£åŒæ­¥**: ä»£ç å’Œæ–‡æ¡£ä¸€èµ·æ›´æ–°
4. **åŠæ—¶å®¡æŸ¥**: PR åœ¨ 24 å°æ—¶å†…å®¡æŸ¥
5. **æµ‹è¯•å…ˆè¡Œ**: å…ˆå†™æµ‹è¯•å†å†™ä»£ç 

### DON'T âŒ

1. **é•¿æœŸåˆ†æ”¯**: é¿å…åˆ†æ”¯ç”Ÿå‘½å‘¨æœŸ > 3 å¤©
2. **è·³è¿‡æµ‹è¯•**: ä¸è¦å› ä¸ºèµ¶æ—¶é—´è·³è¿‡æµ‹è¯•
3. **å¤§æ‰¹é‡åˆå¹¶**: é¿å…ä¸€æ¬¡åˆå¹¶ > 500 è¡Œä»£ç 
4. **å¿½ç•¥CIå¤±è´¥**: red != green, å¿…é¡»ä¿®å¤
5. **æ‰‹åŠ¨éƒ¨ç½²**: è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œå‡å°‘äººä¸ºé”™è¯¯

---

## ğŸ”„ å·¥ä½œæµæ¼”è¿›è·¯å¾„

```
å½“å‰çŠ¶æ€              ç°åœ¨å¼€å§‹            3ä¸ªæœˆå            6ä¸ªæœˆå
    â”‚                    â”‚                  â”‚                  â”‚
    â–¼                    â–¼                  â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ‰‹åŠ¨æµç¨‹â”‚   â†’     â”‚ GitHub  â”‚   â†’   â”‚  å¤šæ¨¡å—  â”‚  â†’   â”‚  Trunk-  â”‚
â”‚         â”‚          â”‚  Flow   â”‚        â”‚  CI/CD  â”‚       â”‚  Based   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚  +      â”‚        â”‚  +      â”‚       â”‚  +       â”‚
                     â”‚ åŸºç¡€CI  â”‚        â”‚ å¹¶è¡Œæ„å»ºâ”‚       â”‚ Feature  â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚  Flags   â”‚
                                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

### ä½¿ç”¨å·¥ä½œæµæ—¶

1. **æŸ¥çœ‹æ–‡æ¡£**: `.agent/workflows/` ä¸­çš„å¯¹åº”å·¥ä½œæµ
2. **é—® AI**: "è¯·æŒ‰ç…§ XXX å·¥ä½œæµæ‰§è¡Œ..."
3. **å‚è€ƒç¤ºä¾‹**: `docs/GITHUB_WORKFLOWS_COMPARISON.md` ä¸­çš„ç¤ºä¾‹

### é‡åˆ°é—®é¢˜æ—¶

1. **æ£€æŸ¥ CI/CD æ—¥å¿—**: GitHub Actions æ ‡ç­¾é¡µ
2. **æŸ¥çœ‹æ–‡æ¡£**: ç›¸åº”çš„å·¥ä½œæµæ–‡æ¡£
3. **æœç´¢é—®é¢˜**: åœ¨æ–‡æ¡£ä¸­æœç´¢å…³é”®è¯

---

## âœ… ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³æ‰§è¡Œï¼ˆä»Šå¤©ï¼‰

1. [ ] é˜…è¯» `GITHUB_WORKFLOWS_COMPARISON.md`
2. [ ] ç†è§£æ¨èçš„å·¥ä½œæµç»„åˆ
3. [ ] å†³å®šä»å“ªä¸ªé€‰é¡¹å¼€å§‹

### æœ¬å‘¨æ‰§è¡Œ

1. [ ] è®¾ç½® GitHub Flow åˆ†æ”¯ç­–ç•¥
2. [ ] åˆ›å»º `.github/workflows/maven.yml`
3. [ ] æµ‹è¯•ä¸€æ¬¡å®Œæ•´çš„ PR æµç¨‹

### æœ¬æœˆæ‰§è¡Œ

1. [ ] ä½¿ç”¨æ–°å·¥ä½œæµå¼€å‘ 2-3 ä¸ªåŠŸèƒ½
2. [ ] æ”¶é›†å›¢é˜Ÿåé¦ˆ
3. [ ] ä¼˜åŒ–å·¥ä½œæµæ–‡æ¡£

---

## ğŸ‰ æ€»ç»“

æ‚¨ç°åœ¨æ‹¥æœ‰:

âœ… **3 ä¸ªæ ‡å‡†åŒ–å·¥ä½œæµ**
- æ·»åŠ  MCP Server
- æ·»åŠ  AI Agent  
- ä»£ç å®¡æŸ¥

âœ… **å®Œæ•´çš„å¯¹æ¯”åˆ†æ**
- åˆ†æ”¯ç­–ç•¥
- CI/CD æ–¹æ¡ˆ
- Agent å¼€å‘æ¨¡å¼

âœ… **æ¸…æ™°çš„å®æ–½è·¯å¾„**
- ç«‹å³å¼€å§‹: GitHub Flow + åŸºç¡€ CI/CD
- çŸ­æœŸä¼˜åŒ–: å¤šæ¨¡å— CI/CD
- é•¿æœŸæ¼”è¿›: Trunk-Based

âœ… **çµæ´»çš„ LLM æ”¯æŒ**
- å·¥ä½œæµä¸ LLM æ— å…³
- Claude / Gemini / GPT-4 éƒ½å¯ä»¥ä½¿ç”¨
- æ ‡å‡†åŒ–æµç¨‹ä¿è¯ä¸€è‡´æ€§

---

**ğŸš€ å¼€å§‹æ‚¨çš„æ ‡å‡†åŒ–å¼€å‘ä¹‹æ—…ï¼**

æ— è®ºä½¿ç”¨å“ªä¸ª LLMï¼ˆClaudeã€Geminiã€GPT-4ã€DeepSeekï¼‰ï¼Œéƒ½èƒ½æŒ‰ç…§ç»Ÿä¸€çš„å·¥ä½œæµé«˜æ•ˆå¼€å‘ã€‚
