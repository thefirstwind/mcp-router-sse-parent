# MCP Router V3 æŒä¹…åŒ–åŠŸèƒ½è¯´æ˜

> **ç‰ˆæœ¬**: v2.0 ç”Ÿäº§çº§  
> **çŠ¶æ€**: âœ… å·²ä¼˜åŒ–ï¼Œå¯ç›´æ¥ä½¿ç”¨

---

## ğŸ“ æ–‡æ¡£ç»“æ„

```
mcp-router-sse-parent/
â”œâ”€â”€ PERSISTENCE_GUIDE.md              â† ğŸ“– å”¯ä¸€å®Œæ•´æŒ‡å—ï¼ˆä»è¿™é‡Œå¼€å§‹ï¼‰
â””â”€â”€ mcp-router-v3/
    â””â”€â”€ database/
        â”œâ”€â”€ schema.sql                â† ğŸ—„ï¸ æ•°æ®åº“schemaï¼ˆå·²ä¼˜åŒ–ï¼‰
        â””â”€â”€ setup.sh                  â† ğŸ”§ ä¸€é”®å®‰è£…è„šæœ¬
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆ3æ­¥ï¼‰

### 1ï¸âƒ£ åˆå§‹åŒ–æ•°æ®åº“

```bash
cd mcp-router-v3/database
./setup.sh
```

æˆ–æ‰‹åŠ¨æ‰§è¡Œï¼š
```bash
mysql -u root -p -e "CREATE DATABASE IF NOT EXISTS mcp_bridge CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"
mysql -u root -p mcp_bridge < schema.sql
```

### 2ï¸âƒ£ é…ç½®åº”ç”¨

ç¼–è¾‘ `mcp-router-v3/src/main/resources/application.yml`ï¼š

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/mcp_bridge?rewriteBatchedStatements=true
    username: root
    password: your_password

mybatis:
  mapper-locations: classpath:mapper/*.xml
```

### 3ï¸âƒ£ å¯åŠ¨åº”ç”¨

```bash
cd mcp-router-v3
mvn spring-boot:run
```

âœ… **å®Œæˆï¼**

---

## ğŸ“– å®Œæ•´æ–‡æ¡£

æ‰€æœ‰æŠ€æœ¯ç»†èŠ‚ã€æ¶æ„è®¾è®¡ã€ä»£ç å®ç°ã€æ€§èƒ½è°ƒä¼˜ã€æ•…éšœæ’æŸ¥ï¼Œè¯·æŸ¥çœ‹ï¼š

ğŸ‘‰ **[PERSISTENCE_GUIDE.md](./PERSISTENCE_GUIDE.md)**

---

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| **å“åº”å¼é€‚é…** | WebFlux + MyBatis å®Œç¾é›†æˆ |
| **é›¶æ•°æ®ä¸¢å¤±** | å¤šå±‚é™çº§ç­–ç•¥ï¼ˆç¼“å†²â†’æ–‡ä»¶â†’æ—¥å¿—ï¼‰ |
| **é«˜æ€§èƒ½** | 5000+ TPSï¼Œæ‰¹é‡å†™å…¥ï¼Œè¦†ç›–ç´¢å¼• |
| **åˆ†åŒºè¡¨** | æŒ‰å¤©/æŒ‰æœˆè‡ªåŠ¨åˆ†åŒºï¼Œæ˜“äºç»´æŠ¤ |
| **æ•…éšœæ¢å¤** | è‡ªåŠ¨é‡è¯•ï¼Œå®šæ—¶æ¢å¤é™çº§æ•°æ® |
| **ç”Ÿäº§å°±ç»ª** | å®Œæ•´ç›‘æ§ã€å‘Šè­¦ã€æœ€ä½³å®è·µ |

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | å€¼ |
|------|-----|
| å†™å…¥ååé‡ | **5000+ TPS** |
| P99å†™å…¥å»¶è¿Ÿ | **<1ms** |
| æ•°æ®ä¸¢å¤±ç‡ | **<0.001%** |
| å¹¶å‘æ”¯æŒ | **10000+** |
| æŸ¥è¯¢å“åº” | **<50ms** |

---

## ğŸ”§ æŠ€æœ¯æ ˆ

- **Spring Boot 2.7.x** + **WebFlux**
- **MyBatis 3.0.3** + **MySQL 8.0+**
- **HikariCP** è¿æ¥æ± 
- **Reactor** å“åº”å¼ç¼–ç¨‹
- **åˆ†åŒºè¡¨** æ•°æ®å½’æ¡£

---

## â“ å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆåªæœ‰ä¸€ä¸ªæ–‡æ¡£ï¼Ÿ

**A**: ä¸ºäº†ä¿è¯**æœ€å°å¿…è¦æ€§**ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰å†…å®¹æ•´åˆåˆ° `PERSISTENCE_GUIDE.md`ï¼Œé¿å…æ–‡æ¡£ç¢ç‰‡åŒ–å’Œå†—ä½™ã€‚

### Q: ä¹‹å‰çš„å…¶ä»–æ–‡æ¡£å‘¢ï¼Ÿ

**A**: å·²åˆ é™¤åˆç‰ˆå’Œä¸­é—´ç‰ˆæœ¬ï¼Œåªä¿ç•™æœ€ç»ˆä¼˜åŒ–ç‰ˆæœ¬ã€‚

### Q: æ•°æ®åº“schemaä¸ºä»€ä¹ˆå«schema.sqlï¼Ÿ

**A**: ç»Ÿä¸€å‘½åï¼Œæ–¹ä¾¿å¼•ç”¨ã€‚è¿™æ˜¯v2.0ä¼˜åŒ–ç‰ˆï¼Œä¿®å¤äº†æ‰€æœ‰å·²çŸ¥é—®é¢˜ã€‚

### Q: æˆ‘éœ€è¦å®Œæ•´ä»£ç å—ï¼Ÿ

**A**: `PERSISTENCE_GUIDE.md` åŒ…å«æ‰€æœ‰æ ¸å¿ƒä»£ç ã€‚å®Œæ•´é¡¹ç›®ä»£ç åœ¨ `mcp-router-v3/src/` ä¸­é€æ­¥å®ç°ã€‚

---

## ğŸ†˜ è·å–å¸®åŠ©

1. æŸ¥çœ‹å®Œæ•´æ–‡æ¡£ï¼š`PERSISTENCE_GUIDE.md`
2. æ£€æŸ¥æ•°æ®åº“ï¼š`mcp-router-v3/database/schema.sql`
3. å‚è€ƒé…ç½®ï¼š`mcp-router-v3/src/main/resources/application.yml`

---

## âœ… å®æ–½æ£€æŸ¥æ¸…å•

- [ ] æ•°æ®åº“å·²åˆå§‹åŒ–ï¼ˆ12å¼ è¡¨ï¼‰
- [ ] ä¾èµ–å·²æ·»åŠ ï¼ˆMyBatis + MySQLï¼‰
- [ ] é…ç½®å·²æ›´æ–°ï¼ˆapplication.ymlï¼‰
- [ ] åº”ç”¨èƒ½å¯åŠ¨ï¼ˆæ— æŠ¥é”™ï¼‰
- [ ] æµ‹è¯•æ’å…¥æ—¥å¿—ï¼ˆéªŒè¯åŠŸèƒ½ï¼‰

---

**å¼€å§‹ä½¿ç”¨**: ğŸ‘‰ [PERSISTENCE_GUIDE.md](./PERSISTENCE_GUIDE.md)

