server:
  port: 8052
  address: 0.0.0.0

spring:
  application:
    name: mcp-router-v3.01
  ai:
    mcp:
      server:
        name: ${spring.application.name}
        enabled: true
        sse-endpoint: /sse
        tools-enabled: false
    alibaba:
      mcp:
        nacos:
          namespace: public
          server-addr: 127.0.0.1:8848
          username: nacos
          password: nacos
          registry:
            enabled: true
            # 支持多个服务组，用于查询不同组的 MCP 服务实例  暂时只支持一个元素 mcp-server
            # TODO 后续添加多节点
            # 服务发现时会遍历这些组来查找 MCP 服务 
            service-groups: 
              - mcp-server
              - mcp-endpoints
            # 当前服务注册到的组（默认使用第一个组）
            service-group: mcp-server
            service-name: ${spring.application.name}
            app-name: ${spring.application.name}  # 配置应用名称，用于 Nacos 配置发布时的 appName 字段
            src-user: ${spring.application.name}  # 配置源用户，用于 Nacos 配置历史记录
        
logging:
  file:
    name: ./logs/mcp-router-v3.log
  level:
    root: INFO
    com.nacos.mcp.router.v3: DEBUG
    com.nacos.mcp.router.v3.service.McpClientManager: INFO
    org.springframework.ai: DEBUG
    com.alibaba.cloud.ai: DEBUG
    # === 其他相关组件 ===
    # 降低WebFlux SSE传输的日志级别，减少不友好的错误信息
    io.modelcontextprotocol.client.transport.WebFluxSseClientTransport: WARN
    # 降低Reactor错误处理的日志级别
    reactor.core.publisher.Operators: WARN
    # 降低WebClient的日志级别，减少HTTP连接错误
    org.springframework.web.reactive.function.client: WARN
    # 降低Netty相关的连接错误日志
    io.netty: WARN
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} %5p --- [%15.15t] %-40.40logger{39} : %m%n"
    file: "%d{yyyy-MM-dd HH:mm:ss.SSS} %5p --- [%15.15t] %-40.40logger{39} : %m%n"
    
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics