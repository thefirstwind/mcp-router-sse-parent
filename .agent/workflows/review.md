---
description: 代码审查工作流
---
# 代码审查工作流 (Code Review Workflow)

本工作流将基于 `PROJECT_RULES.md` 中的规范，对当前打开的文件或指定文件进行全面的代码审查。

## 执行步骤

1.  **上下文分析**:
    - 读取 `.agent/rules/PROJECT_RULES.md`，理解项目的编码规范。
    - 读取目标代码文件，理解当前的实现逻辑。

2.  **合规性检查**:
    - **代码风格**: 是否使用了 Lombok 注解？日志是否是通过 Slf4j 记录的？
    - **架构规范**: 分层是否正确（如 Controller 调用 Service）？
    - **错误处理**: Controller 层是否有完整的 try-catch 异常捕获？
    - **文档规范**: 是否包含完整的 Javadoc 注释？

3.  **问题识别**:
    - 列出所有违反“项目规范”的地方。
    - 识别潜在的 Bug 或逻辑错误（例如：空指针风险、资源未关闭、SQL 逻辑漏洞）。

4.  **提供反馈**:
    - 输出一份 Markdown 格式的审查报告。
    - 将问题按严重程度分类：
        - **严重 (Critical)**: 潜在 Bug，必须修复。
        - **主要 (Major)**: 违反核心架构或规范，强烈建议修复。
        - **次要 (Minor)**: 风格或文档问题，建议优化。
    - 针对每个问题，必须提供具体的**代码修复示例**。
